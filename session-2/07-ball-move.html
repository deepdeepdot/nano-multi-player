<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Ball Animation</title>
    <script type="text/javascript">

        // Global State
        var x = 50;
        var y = 50;
        var dx = 2;
        var dy = -1;
    
        function displayFrame() {
            var canvas = document.getElementById('tutorial');
            if (canvas.getContext) {
                var ctx = canvas.getContext('2d');

                ctx.beginPath();
                ctx.arc(x, y, 30, 0, Math.PI * 2, false);
                ctx.strokeStyle = 'blue';
                ctx.closePath();
                ctx.stroke();
            }

            x = x + dx;
            y = y + dy;

            if (y < 0 || y > canvas.height) { // reverse
                dy = -dy;
            }
            console.log(x, y, dx, dy);
        }

        var animationId;
        function draw() {
            // animationId = setTimeout(draw, 100);
            animationId = requestAnimationFrame(draw, 100);
            displayFrame();
        }

    </script>

    <style type="text/css">
        html,
        body,
        canvas {
            margin: 0;
            padding: 0;
            border: 0;
            min-height: 200px;
            min-width: 800px;
        }
    
        canvas {
            border: 1px solid black;
            width: 100%;
            height: 100%;
        }
    </style>
    </head>
    
    <body onload="draw();">
        <canvas id="tutorial" width="800" height="200"></canvas>
    </body>
    
</html>